{"version":3,"sources":["assets/autorenew.png","components/Breakdown.tsx","hooks/useTranslation.ts","hooks/useRomaji.ts","App.tsx","index.tsx"],"names":["Breakdown","japanese","useQuery","a","axios","get","data","useTranslationQuery","response","toRomaji","jp","toRomajiWanaKana","useState","activeIndex","setActiveIndex","useEffect","senses","length","style","display","flexDirection","alignItems","className","english_definitions","map","en","onClick","prev","src","App","setJp","gap","fontSize","padding","value","placeholder","onChange","e","currentTarget","split","s","position","bottom","width","textAlign","href","queryClient","QueryClient","ReactDOM","render","StrictMode","client","document","getElementById"],"mappings":"mQAAe,I,OCOFA,EAAgC,SAAC,GAAkB,IAAD,EAAfC,EAAe,EAAfA,SAC9C,ECJK,WAA6C,IAAhBA,EAAe,uDAAJ,GAC7C,OAAOC,mBAAS,CAAC,KAAMD,GAAR,sBAAmB,4BAAAE,EAAA,sEACbC,IAAMC,IAAN,wDACgCJ,IAFnB,cAC1BK,EAD0B,yBAIzBA,EAAKA,KAAKA,KAAK,IAJU,4CDGPC,CAAoBN,GAAjCO,EAAd,EAAQF,KACAG,EEFD,CAAEA,SAJQ,SAACC,GAChB,MAAW,WAAPA,EAAmB,KAChBC,mBAAiBD,KFIlBD,SACR,EAAsCG,mBAAS,GAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KAQA,OANAC,qBAAU,WACJP,GAAYA,EAASQ,OAAOC,OAAS,GACvCH,EAAe,KAEhB,CAACN,IAGF,sBACEU,MAAO,CACLC,QAAS,OACTC,cAAe,SACfC,WAAY,UAJhB,UAOE,mBAAGC,UAAW,eAAd,SAA+Bb,EAASR,KACxC,mBAAGqB,UAAW,eAAd,SAA+BrB,IAC/B,qBAAKqB,UAAW,eAAhB,SACGd,IAAQ,UACPA,EAASQ,OACPH,EAAcL,EAASQ,OAAOC,eAFzB,aACP,EAEGM,oBAAoBC,KAAI,SAACC,GAAD,OAAQ,4BAAaA,GAALA,SAE/C,wBACEP,MAAO,CACLC,QAASX,GAAYA,EAASQ,OAAOC,OAAS,EAAI,OAAS,QAE7DK,UAAW,WACXI,QAAS,kBAAMZ,GAAe,SAACa,GAAD,OAAUA,EAAO,MALjD,SAOE,qBAAKC,IDzCE,iqBCyCcN,UAAW,mB,QGUzBO,MA9Cf,WACE,MAAoBjB,mBAAS,4EAA7B,mBAAOF,EAAP,KAAWoB,EAAX,KACA,OACE,qCACE,sBACEZ,MAAO,CACLC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZU,IAAK,QALT,UAQE,qCACA,cAAC,IAAD,CACEb,MAAO,CAAEc,SAAU,GAAIC,QAAS,IAChCC,MAAOxB,EACPyB,YAAa,gCACbC,SAAU,SAACC,GAAD,OAAOP,EAAMO,EAAEC,cAAcJ,UAEzC,qBACEhB,MAAO,CACLC,QAAS,OACTY,IAAK,QAHT,SAMGrB,EAAG6B,MAAM,qBAAgBf,KAAI,SAACgB,GAAD,OAC5B,cAAC,EAAD,CAAWvC,SAAUuC,YAI3B,wBAAQtB,MAAO,CAAEuB,SAAU,QAASC,OAAQ,EAAGC,MAAO,QAAtD,SACE,gCACE,qBAAIzB,MAAO,CAAE0B,UAAW,UAAxB,8CACoC,IAClC,mBAAGC,KAAM,qBAAT,mCAEF,qBAAI3B,MAAO,CAAE0B,UAAW,UAAxB,uDAEE,mBAAGC,KAAM,oCAAT,yCCtCNC,EAAc,IAAIC,cAExBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,sBAAD,CAAqBC,OAAQL,EAA7B,SACE,cAAC,EAAD,QAGJM,SAASC,eAAe,W","file":"static/js/main.45cf0b29.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAABrUlEQVRYw+WVPW7CQBCFnwDxI+HeSC4RJR1d0oIQLUeAc1hyGSkFiPVBfAGX5ghINBEWPQLkdlNk2Jhgs7vxbsW4ffO+9Xj2GXi98m0DuG0Et43gthHcNoLbQDQxBkOMPS45gCGEC4bzna1BRAsBrqXmlQEukqfmFe2HSHNWBzDM0EfX3Ol/7Y9YoG52TVu54URwzF+0QNivUVOOipGqfU9sTvRgXx52PjJ4aoBQzN4pNCq25+AI1W7tiQBL5ZG+U8cJHbl4QuI0tzmyauBAXXO5mJF0o7UWn9S1kktjkk61AFPq2sqlO5IOtACeGKy0bsnpaAHa1JXJpRlJ21oAh7rOcuktgzwtwIC6dnLplqSTf33kWC5dkfRDC7ChLiaXzkn6hYayfV0MVuG9OyIq3pQBSxEVTfWwKwu1og06EiBUO4+H7Elm/q0aIrK/oqf6yqNSe/5gvxY/pwCVyieb++FEwj5By4Q9z23OQsyeI4Vrxp6jiz5mYOIP8GM/NGVf9CTmTv/4XBFUm/0zwBms2tmLERfsEYNhrHZr9RGWyrcNKL5oVhCwjYBtxMvVNy1NaGxXWHiWAAAAAElFTkSuQmCC\"","import React, { FC, useEffect, useState } from \"react\";\r\nimport { useRomaji } from \"../hooks/useRomaji\";\r\nimport { useTranslationQuery } from \"../hooks/useTranslation\";\r\nimport autorenew from \"../assets/autorenew.png\";\r\ninterface BreakdownProps {\r\n  japanese: string;\r\n}\r\nexport const Breakdown: FC<BreakdownProps> = ({ japanese }) => {\r\n  const { data: response } = useTranslationQuery(japanese);\r\n  const { toRomaji } = useRomaji();\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (response && response.senses.length > 0) {\r\n      setActiveIndex(0);\r\n    }\r\n  }, [response]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <p className={\"breakdown-en\"}>{toRomaji(japanese)}</p>\r\n      <p className={\"breakdown-jp\"}>{japanese}</p>\r\n      <div className={\"breakdown-en\"}>\r\n        {response &&\r\n          response.senses[\r\n            activeIndex % response.senses.length\r\n          ]?.english_definitions.map((en) => <p key={en}>{en}</p>)}\r\n      </div>\r\n      <button\r\n        style={{\r\n          display: response && response.senses.length > 1 ? \"auto\" : \"none\",\r\n        }}\r\n        className={\"icon-btn\"}\r\n        onClick={() => setActiveIndex((prev) => prev + 1)}\r\n      >\r\n        <img src={autorenew} className={\"btn-icon\"} />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport { useQuery } from \"react-query\";\r\nimport { JishoResponse } from \"../types\";\r\n\r\nexport function useTranslationQuery(japanese = \"\") {\r\n  return useQuery([\"jp\", japanese], async () => {\r\n    const data = await axios.get<JishoResponse>(\r\n      `https://jisho.org/api/v1/search/words?keyword=${japanese}`\r\n    );\r\n    return data.data.data[0];\r\n  });\r\n}\r\n","import { toRomaji as toRomajiWanaKana } from \"wanakana\";\r\n\r\nexport const useRomaji = () => {\r\n  const toRomaji = (jp: string) => {\r\n    if (jp === \"は\") return \"wa\";\r\n    return toRomajiWanaKana(jp);\r\n  };\r\n  return { toRomaji };\r\n};\r\n","import React, { useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { Breakdown } from \"./components/Breakdown\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nfunction App() {\n  const [jp, setJp] = useState(\"こんにちわ。げんきですか\");\n  return (\n    <>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          gap: \"25px\",\n        }}\n      >\n        <h1>imi</h1>\n        <TextareaAutosize\n          style={{ fontSize: 24, padding: 10 }}\n          value={jp}\n          placeholder={\"Enter a Japanese phrase here.\"}\n          onChange={(e) => setJp(e.currentTarget.value)}\n        />\n        <div\n          style={{\n            display: \"flex\",\n            gap: \"25px\",\n          }}\n        >\n          {jp.split(/\\s*[\\s,。]\\s*/).map((s) => (\n            <Breakdown japanese={s} />\n          ))}\n        </div>\n      </div>\n      <footer style={{ position: \"fixed\", bottom: 5, width: \"100%\" }}>\n        <div>\n          <h5 style={{ textAlign: \"center\" }}>\n            This site uses an API provided by{\" \"}\n            <a href={\"https://jisho.org/\"}>https://jisho.org/</a>\n          </h5>\n          <h5 style={{ textAlign: \"center\" }}>\n            Have a suggestion? Open an issue on my&nbsp;\n            <a href={\"https://github.com/connordear/imi\"}>GitHub project.</a>\n          </h5>\n        </div>\n      </footer>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <App />\n    </QueryClientProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}